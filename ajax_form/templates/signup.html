<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style type="text/css">
  .footer {
  width: 100%;
  height: 50px;
  margin-top: 30px;
  margin-bottom: 0px;
  z-index: 12;
  background-color: rgb(134, 147, 158);
  position: fixed;
  bottom: 0;
}
</style>
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<title>Flask Signup form</title>

<!-- Bootstrap core CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"/>

<link rel="stylesheet" href="../static/style.css"/>

</head>
 <body>
 <div class="container-fluid h-100" >
  
 <div class="header clearfix">
 <h4 class="text-muted">{{title}}</h4>
 </div>

 <h2>Form Validation in ajax</h2>
  




    <form  class="needs-validation" >
      <div class="form-group">
      <label for="uname">Email:</label>
      <input type="email" class="form-control" id="email" placeholder="Enter Email" name="email" required>
      <div class="invalid-feedback">Please fill out this field.</div>
    </div>

    <div class="form-group">
      <label for="uname">Username:</label>
      <input type="text" class="form-control" id="uname" placeholder="Enter username" name="uname" required>
      <div class="invalid-feedback">Please fill out this field.</div>
    </div>


    <div class="form-group">
      <label for="pwd">Password:</label>
      <input type="password" class="form-control" id="pswd" placeholder="Enter password" name="pswd" required>
      <div class="invalid-feedback">Please fill out this field.</div>
    </div>


<!--
  <div class="custom-file">
    <input type="file" class="custom-file-input" id="validatedCustomFile" required>
    <label class="custom-file-label" for="validatedCustomFile">Choose file...</label>
    <div class="invalid-feedback">Example invalid custom file feedback</div>
  </div>
!-->

    <button type="submit" class="btn btn-primary">Submit</button>
  </form>


</br>
<div id="output"></div>
</br>


<br><br>

 <footer class="footer clearfix">
  <!-- Copyright -->

  <div class="footer-copyright text-center py-3">Â© 2020 Copyright:
    <a href="https://github.com/panditrahulsharma?tab=repositories">Rahul Pandit</a>
  </div>
  <!-- Copyright -->
 </footer>

</div>



 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script type="text/javascript">
  
$(document).ready(function() {
     $('form').on('submit', function(event) {
       $.ajax({
          data : {
             email : $('#email').val(),
             uname: $('#uname').val(),
             pswd: $('#pswd').val(),
                 },
             type : 'POST',
             url : '/signUp'
            })
        .done(function(data) {

          window.location.href = "/user";

      });
      event.preventDefault();
      });
});

</script>


</body>
</html>
